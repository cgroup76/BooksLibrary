<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"
            integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
            crossorigin="anonymous"></script>

   
<script>
    googleApiFictionBooks = "https://www.googleapis.com/books/v1/volumes?filter=ebooks&maxResults=10&q=subject:fiction&key=AIzaSyCwCGOio38wHHVtold0dxq3NkDM8Cd7uUQ"
    allBooks = [];

    // JavaScript source code
    function ajaxCall(method, api, data, successCB, errorCB) {
        $.ajax({
            type: method,
            url: api,
            data: data,
            cache: false,
            contentType: "application/json",
            dataType: "json",
            success: successCB,
            error: errorCB
        });
    }
    function ajaxCallSync(method, api, data, successCB, errorCB) {
        $.ajax({
            type: method,
            url: api,
            data: data,
            cache: false,
            async: false,
            contentType: "application/json",
            dataType: "json",
            success: successCB,
            error: errorCB
        });
    }
    ajaxCallSync("GET", googleApiFictionBooks, null, successCB, errorCB);

    ////drama books
    //ajaxCallSync("GET", "https://www.googleapis.com/books/v1/volumes?filter=ebooks&maxResults=10&q=subject:drama&key=AIzaSyCwCGOio38wHHVtold0dxq3NkDM8Cd7uUQ", null, successCB, errorCB);

    ////science fiction
    //ajaxCallSync("GET", "https://www.googleapis.com/books/v1/volumes?filter=ebooks&maxResults=10&q=subject:Sciencefiction&key=AIzaSyCwCGOio38wHHVtold0dxq3NkDM8Cd7uUQ", null, successCB, errorCB);


    function successCB(data) {
        allBooks.push(data.items);
        console.log(allBooks)
        
    }
    function errorCB(err) { console.log(err) } 
</script>
</body>



</html>